import { City } from '@/data/cities';
import { ServiceCategory } from '@/data/services';

export interface RichContentSection {
  title: string;
  content: string[];
  withLinks?: boolean;
}

export interface RichServiceContent {
  detailedIntro: string[];
  howItWorks: RichContentSection;
  benefits: RichContentSection;
  commonMistakes: RichContentSection;
  tips: RichContentSection;
  comparison: RichContentSection;
  cityInfo: RichContentSection;
  whyChooseUs: RichContentSection;
  testimonials: { name: string; area: string; text: string; rating: number }[];
  relatedServices: { title: string; link: string; description: string }[];
  internalLinks: { text: string; url: string }[];
}

export function generateGeneralSubserviceContent(params: {
  service: ServiceCategory;
  subservice: { slug: string; name_ar: string };
}): Partial<RichServiceContent> {
  const { service, subservice } = params;
  const serviceName = service.name_ar;
  const subserviceName = subservice.name_ar;

  return {
    detailedIntro: [
      `خدمة ${subserviceName} في المملكة العربية السعودية تتطلب تخصصاً عميقاً وخبرة واسعة. نحن في بروكر متخصصون في ${subserviceName} ضمن مجال ${serviceName} الأوسع، ونقدم خدماتنا الاحترافية في جميع مدن المملكة من الرياض وجدة إلى أصغر المدن.`,
      
      `ما يميز خدمة ${subserviceName} لدينا هو التخصص الدقيق والفريق المدرب خصيصاً على هذا النوع من الخدمات. لا نقدم ${serviceName} بشكل عام فقط، بل نتخصص في ${subserviceName} بكل تفاصيلها ومتطلباتها الخاصة.`,
      
      `شبكتنا الواسعة في أكثر من 45 مدينة سعودية تعني أن خدمة ${subserviceName} متاحة لك أينما كنت في المملكة، مع نفس مستوى الاحترافية والجودة في كل مكان.`
    ],
    howItWorks: {
      title: `كيف نقدم ${subserviceName} في جميع أنحاء المملكة؟`,
      content: [
        `**الخطوة 1: اختيار المدينة** - ابدأ باختيار مدينتك من بين أكثر من 45 مدينة نغطيها في المملكة. فريقنا المحلي جاهز في كل مدينة.`,
        `**الخطوة 2: الاستشارة المتخصصة** - فنيونا المتخصصون في ${subserviceName} سيتواصلون معك لفهم احتياجاتك بدقة وتقديم استشارة مجانية.`,
        `**الخطوة 3: المعاينة والتقييم** - في حال الحاجة، نرسل متخصصاً لمعاينة الموقع وتقديم تقييم دقيق لمتطلبات ${subserviceName}.`,
        `**الخطوة 4: التسعير الشفاف** - تحصل على تسعيرة واضحة ومفصلة لخدمة ${subserviceName} دون أي رسوم مخفية.`,
        `**الخطوة 5: التنفيذ الاحترافي** - فريقنا المتخصص يصل في الموعد المحدد مع جميع المعدات المتخصصة لـ${subserviceName}.`,
        `**الخطوة 6: الضمان والمتابعة** - بعد إتمام ${subserviceName}، نقدم ضماناً مكتوباً ونتابع معك للتأكد من رضاك التام.`
      ]
    },
    benefits: {
      title: `مزايا خدمة ${subserviceName} من بروكر`,
      content: [
        `**تخصص حقيقي** - لسنا شركة عامة في ${serviceName}، بل متخصصون حقيقيون في ${subserviceName} بكل تفاصيلها.`,
        `**تغطية وطنية** - متوفرون في أكثر من 45 مدينة سعودية، الخدمة نفسها بنفس الجودة في كل مكان.`,
        `**معدات متخصصة** - نستخدم أحدث المعدات المصممة خصيصاً لـ${subserviceName}، وليس معدات عامة.`,
        `**خبرة عميقة** - سنوات من الخبرة المتخصصة في ${subserviceName} تضمن نتائج مثالية.`,
        `**أسعار عادلة** - التخصص لا يعني أسعاراً مرتفعة، نقدم أفضل قيمة مقابل المال.`,
        `**ضمان شامل** - جميع أعمال ${subserviceName} مغطاة بضمان مكتوب يحميك ويمنحك راحة البال.`
      ]
    },
    commonMistakes: {
      title: `أخطاء شائعة عند طلب ${subserviceName}`,
      content: [
        `**الخطأ الأول: طلب ${subserviceName} من شركة غير متخصصة** - كثير من شركات ${serviceName} العامة تقدم ${subserviceName}، لكن التخصص يصنع فرقاً كبيراً في الجودة.`,
        `**الخطأ الثاني: عدم التحقق من الخبرة المحددة** - اسأل عن خبرة الشركة تحديداً في ${subserviceName}، وليس فقط في ${serviceName} بشكل عام.`,
        `**الخطأ الثالث: التركيز على السعر فقط** - ${subserviceName} خدمة متخصصة تحتاج معدات وخبرة خاصة، السعر المنخفض جداً قد يعني تنازلاً عن الجودة.`,
        `**الخطأ الرابع: إهمال الضمان** - دائماً اطلب ضماناً مكتوباً محدداً على ${subserviceName}، لا تقبل بوعود شفهية.`
      ]
    },
    tips: {
      title: `نصائح الخبراء لـ${subserviceName}`,
      content: [
        `**نصيحة 1: تحقق من التخصص** - تأكد من أن الشركة متخصصة فعلاً في ${subserviceName} وليس فقط في ${serviceName} عموماً.`,
        `**نصيحة 2: اطلب أمثلة سابقة** - اطلب صوراً أو أمثلة من أعمال ${subserviceName} سابقة للتأكد من الخبرة.`,
        `**نصيحة 3: اسأل عن المعدات** - المعدات المتخصصة في ${subserviceName} تحدث فرقاً كبيراً في النتائج.`,
        `**نصيحة 4: احجز مبكراً** - ${subserviceName} خدمة متخصصة قد تحتاج حجزاً مسبقاً خاصة في المواسم المزدحمة.`,
        `**نصيحة 5: اقرأ التقييمات** - ابحث عن تقييمات محددة عن ${subserviceName} وليس فقط تقييمات عامة.`
      ]
    },
    comparison: {
      title: `لماذا بروكر الأفضل في ${subserviceName}؟`,
      content: [
        `مقارنة بالشركات الأخرى التي تقدم ${serviceName} بشكل عام، نحن متخصصون حصرياً في ${subserviceName}. هذا التخصص يعني معرفة أعمق، معدات أفضل، وخبرة أوسع في هذا المجال المحدد. فريقنا المحلي في كل مدينة مدرب خصيصاً على ${subserviceName}، مما يضمن نتائج متفوقة في كل مرة.`
      ]
    },
    whyChooseUs: {
      title: `لماذا بروكر لـ${subserviceName}؟`,
      content: [
        `**تخصص دقيق**: متخصصون في ${subserviceName} وليس فقط ${serviceName}.`,
        `**تغطية شاملة**: متوفرون في 45+ مدينة سعودية.`,
        `**معدات متقدمة**: أحدث المعدات المخصصة لـ${subserviceName}.`,
        `**فريق خبير**: متخصصون مدربون على ${subserviceName} فقط.`,
        `**أسعار واضحة**: شفافية كاملة في التسعير.`,
        `**ضمان شامل**: ضمان مكتوب على كل عمل.`
      ]
    },
    testimonials: [
      {
        name: 'عبدالله السعيد',
        area: 'الرياض',
        text: `خدمة ${subserviceName} ممتازة! واضح أنهم متخصصون فعلاً في هذا المجال.`,
        rating: 5
      },
      {
        name: 'نورة الشمري',
        area: 'جدة',
        text: `أفضل من تعاملت معهم في ${subserviceName}. احترافية وجودة عالية.`,
        rating: 5
      }
    ],
    relatedServices: service.subservices
      .filter(s => s.slug !== subservice.slug)
      .slice(0, 6)
      .map(sub => ({
        title: `${sub.name_ar} في السعودية`,
        link: `/services/${service.slug}/${sub.slug}`,
        description: `خدمة ${sub.name_ar} احترافية في جميع مدن المملكة.`
      })),
    internalLinks: [
      { text: `${subserviceName} في الرياض`, url: `/saudi/riyadh/${service.slug}/${subservice.slug}` },
      { text: `${subserviceName} في جدة`, url: `/saudi/jeddah/${service.slug}/${subservice.slug}` },
      { text: `${subserviceName} في مكة`, url: `/saudi/makkah/${service.slug}/${subservice.slug}` },
      { text: `جميع خدمات ${serviceName}`, url: `/services/${service.slug}` },
      { text: `${serviceName} في السعودية`, url: `/services/${service.slug}` },
    ]
  };
}

export function generateSubserviceRichContent(params: {
  city: City;
  service: ServiceCategory;
  subservice: { slug: string; name_ar: string };
}): RichServiceContent {
  const { city, service, subservice } = params;
  const cityName = city.name_ar;
  const serviceName = service.name_ar;
  const subserviceName = subservice.name_ar;
  const neighborhoods = city.neighborhoods || [cityName];

  const internalLinks = [
    { text: `خدمة ${serviceName} في ${cityName}`, url: `/saudi/${city.slug}/${service.slug}` },
    { text: `جميع خدمات ${serviceName}`, url: `/services/${service.slug}` },
    { text: `أسعار ${subserviceName}`, url: `/pricing/${service.slug}/${city.slug}` },
    { text: `${subserviceName} في السعودية`, url: `/services/${service.slug}/${subservice.slug}` },
  ];

  return {
    detailedIntro: [
      `خدمة ${subserviceName} في ${cityName} تتطلب خبرة متخصصة ومعرفة عميقة بأفضل الممارسات. نحن في بروكر نقدم خدمات ${subserviceName} احترافية تغطي جميع أحياء ${cityName} بما في ذلك ${neighborhoods.slice(0, 3).join('، ')}.`,
      
      `ما يميزنا في تقديم ${subserviceName} هو فهمنا العميق لاحتياجات سكان ${cityName} وخصوصية المدينة. فريقنا المتخصص لديه سنوات من الخبرة في ${serviceName} بشكل عام وفي ${subserviceName} بشكل خاص.`
    ],
    howItWorks: {
      title: `كيف نقدم ${subserviceName} في ${cityName}؟`,
      content: [
        `**الخطوة 1: الاتصال والاستشارة** - تبدأ رحلتك معنا باتصال بسيط. فريق خدمة العملاء المتخصص يستمع لاحتياجاتك المتعلقة بـ${subserviceName} ويقدم لك استشارة مجانية.`,
        `**الخطوة 2: المعاينة والتقييم** - نرسل فنياً متخصصاً في ${subserviceName} لمعاينة موقعك في ${cityName}. يقوم بتقييم شامل ويقدم لك تسعيرة دقيقة.`,
        `**الخطوة 3: التنفيذ الاحترافي** - فريقنا المتخصص يصل في الموعد المحدد مع جميع المعدات اللازمة لتنفيذ ${subserviceName} بأعلى جودة.`,
        `**الخطوة 4: المتابعة والضمان** - بعد إتمام ${subserviceName}، نتابع معك للتأكد من رضاك التام. نقدم ضماناً مكتوباً على جميع أعمالنا.`
      ]
    },
    benefits: {
      title: `فوائد اختيار بروكر لـ${subserviceName}`,
      content: [
        `**تخصص عميق** - فريقنا متخصص في ${subserviceName} مع خبرة عملية واسعة في ${cityName}.`,
        `**سرعة في التنفيذ** - نفهم أهمية الوقت، لذلك نلتزم بالمواعيد ونقدم ${subserviceName} بكفاءة عالية.`,
        `**أسعار تنافسية** - نقدم أفضل الأسعار في السوق لخدمة ${subserviceName} مع الحفاظ على أعلى معايير الجودة.`,
        `**ضمان شامل** - جميع أعمال ${subserviceName} مغطاة بضمان مكتوب يحميك ويمنحك راحة البال.`
      ]
    },
    commonMistakes: {
      title: `أخطاء شائعة عند طلب ${subserviceName}`,
      content: [
        `**الخطأ الأول: اختيار الشركة بناءً على السعر فقط** - السعر المنخفض جداً قد يعني جودة منخفضة. ابحث عن التوازن بين السعر والجودة في ${subserviceName}.`,
        `**الخطأ الثاني: عدم التحقق من خبرة الشركة** - تأكد من أن الشركة لديها خبرة حقيقية في ${subserviceName} وليس فقط في ${serviceName} بشكل عام.`,
        `**الخطأ الثالث: عدم طلب ضمان مكتوب** - دائماً اطلب ضماناً مكتوباً على ${subserviceName}. الوعود الشفهية لا تكفي.`
      ]
    },
    tips: {
      title: `نصائح مهمة لـ${subserviceName}`,
      content: [
        `**نصيحة 1: احجز مبكراً** - ${subserviceName} خدمة مطلوبة في ${cityName}، لذا احجز مبكراً لضمان أفضل المواعيد.`,
        `**نصيحة 2: اطرح الأسئلة** - لا تتردد في السؤال عن تفاصيل ${subserviceName}. الشركة الجيدة ترحب بأسئلتك.`,
        `**نصيحة 3: راجع التقييمات** - اطلع على تقييمات العملاء السابقين عن ${subserviceName} قبل اتخاذ القرار.`
      ]
    },
    comparison: {
      title: `لماذا بروكر الأفضل في ${subserviceName}؟`,
      content: [
        `مقارنة بالشركات الأخرى، نحن نقدم خدمة ${subserviceName} بتخصص عميق وأسعار عادلة وضمان شامل. فريقنا المحلي في ${cityName} يعرف المدينة جيداً ويفهم احتياجاتك.`
      ]
    },
    cityInfo: {
      title: `${subserviceName} في ${cityName}`,
      content: [
        `${cityName} مدينة متنوعة، وكل حي فيها له احتياجاته الخاصة من ${subserviceName}. نحن نغطي جميع أحياء المدينة بما في ذلك ${neighborhoods.slice(0, 3).join('، ')} وغيرها.`
      ]
    },
    whyChooseUs: {
      title: `لماذا بروكر لـ${subserviceName} في ${cityName}؟`,
      content: [
        `**خبرة محلية**: نعمل في ${cityName} منذ سنوات ونعرف المدينة جيداً.`,
        `**فريق متخصص**: جميع فنيينا متخصصون في ${subserviceName} ومدربون باستمرار.`,
        `**أسعار واضحة**: لا توجد تكاليف مخفية، كل شيء شفاف ومكتوب.`
      ]
    },
    testimonials: [
      {
        name: 'عبدالله المطيري',
        area: neighborhoods[0] || cityName,
        text: `خدمة ${subserviceName} ممتازة! الفريق محترف والنتيجة فاقت التوقعات.`,
        rating: 5
      },
      {
        name: 'سارة العمري',
        area: neighborhoods[1] || cityName,
        text: `أنصح الجميع بالتعامل مع بروكر لـ${subserviceName}. خدمة سريعة وأسعار معقولة.`,
        rating: 5
      }
    ],
    relatedServices: service.subservices
      .filter(s => s.slug !== subservice.slug)
      .slice(0, 6)
      .map(sub => ({
        title: `${sub.name_ar} في ${cityName}`,
        link: `/saudi/${city.slug}/${service.slug}/${sub.slug}`,
        description: `احصل على أفضل خدمة ${sub.name_ar} في ${cityName}.`
      })),
    internalLinks
  };
}

export function generateSimpleRichContent(params: {
  city: City;
  service: ServiceCategory;
  pageType: 'pricing' | 'faq' | 'deals' | 'emergency';
  subservice?: { slug: string; name_ar: string };
}): Partial<RichServiceContent> {
  const { city, service, pageType, subservice } = params;
  const cityName = city.name_ar;
  const serviceName = subservice ? subservice.name_ar : service.name_ar;
  const neighborhoods = city.neighborhoods || [cityName];

  const pageTypeConfig = {
    pricing: {
      title: 'الأسعار والتكلفة',
      intro: `نقدم أسعاراً شفافة وتنافسية لخدمة ${serviceName} في ${cityName}. جميع أسعارنا واضحة ومحددة مسبقاً بدون أي رسوم مخفية.`
    },
    faq: {
      title: 'الأسئلة الشائعة',
      intro: `أسئلة وأجوبة شاملة عن خدمة ${serviceName} في ${cityName}. نجيب على جميع استفساراتك لمساعدتك في اتخاذ القرار الصحيح.`
    },
    deals: {
      title: 'العروض الخاصة',
      intro: `عروض حصرية وخصومات مميزة على خدمة ${serviceName} في ${cityName}. استفد من باقاتنا وعروضنا المحدودة.`
    },
    emergency: {
      title: 'خدمة الطوارئ 24/7',
      intro: `خدمة طوارئ ${serviceName} متاحة على مدار الساعة في ${cityName}. نصل إليك بسرعة في أي وقت وأي مكان.`
    }
  };

  const config = pageTypeConfig[pageType];

  return {
    detailedIntro: [
      `${config.intro} نحن في بروكر نغطي جميع أحياء ${cityName} بما في ذلك ${neighborhoods.slice(0, 3).join('، ')}.`,
      `فريقنا المتخصص في ${serviceName} جاهز لخدمتك في ${cityName} مع الالتزام بأعلى معايير الجودة والاحترافية.`
    ],
    benefits: {
      title: `مزايا ${config.title} مع بروكر`,
      content: [
        `**شفافية كاملة** - جميع التفاصيل واضحة ومكتوبة، لا توجد رسوم مخفية.`,
        `**خدمة سريعة** - نصل إليك في ${cityName} في أسرع وقت ممكن.`,
        `**ضمان شامل** - جميع خدماتنا مغطاة بضمان مكتوب.`,
        `**فريق محلي** - نعرف ${cityName} جيداً ونفهم احتياجات سكانها.`
      ]
    },
    whyChooseUs: {
      title: `لماذا بروكر لـ${serviceName} في ${cityName}؟`,
      content: [
        `**خبرة محلية**: نعمل في ${cityName} منذ سنوات.`,
        `**أسعار عادلة**: نقدم أفضل قيمة مقابل المال.`,
        `**خدمة متميزة**: رضا العملاء هو أولويتنا.`
      ]
    },
    internalLinks: [
      { text: `خدمة ${serviceName} في ${cityName}`, url: `/saudi/${city.slug}/${service.slug}` },
      { text: `جميع الخدمات في ${cityName}`, url: `/saudi/${city.slug}` },
    ]
  };
}

export function generateGeneralServiceContent(params: {
  service: ServiceCategory;
}): Partial<RichServiceContent> {
  const { service } = params;
  const serviceName = service.name_ar;
  
  return {
    detailedIntro: [
      `خدمة ${serviceName} في المملكة العربية السعودية تتطلب خبرة واسعة ومعرفة عميقة بأفضل الممارسات العالمية. نحن في بروكر نقدم خدمات ${serviceName} احترافية تغطي جميع مدن المملكة من الرياض وجدة إلى مكة المكرمة والمدينة المنورة والدمام وجميع المدن الأخرى.`,
      
      `ما يميزنا في ${serviceName} هو شبكتنا الواسعة التي تغطي أكثر من 45 مدينة سعودية، مع فريق متخصص في كل منطقة يفهم الاحتياجات المحلية والخصوصية الثقافية. فريقنا لديه سنوات من الخبرة في تقديم خدمات ${serviceName} بأعلى معايير الجودة.`,
      
      `سواء كنت في المدن الكبرى أو المدن الصغيرة، نحن نصل إليك بنفس مستوى الاحترافية والسرعة. نستخدم أحدث المعدات والتقنيات المتخصصة في ${serviceName}، ونوفر ضماناً شاملاً على جميع أعمالنا في كافة أنحاء المملكة.`
    ],
    howItWorks: {
      title: `كيف تعمل خدمة ${serviceName} في بروكر؟`,
      content: [
        `**الخطوة 1: اختر مدينتك** - ابدأ باختيار المدينة التي تحتاج فيها خدمة ${serviceName}. نغطي أكثر من 45 مدينة في جميع مناطق المملكة.`,
        `**الخطوة 2: حدد نوع الخدمة** - اختر نوع الخدمة المحدد الذي تحتاجه من بين خدماتنا المتخصصة في ${serviceName}.`,
        `**الخطوة 3: احصل على استشارة مجانية** - فريقنا المحلي في مدينتك سيتواصل معك خلال دقائق لتقديم استشارة مجانية وتسعيرة دقيقة.`,
        `**الخطوة 4: جدولة الخدمة** - اختر الموعد المناسب لك، نحن متاحون 7 أيام في الأسبوع في جميع مدن المملكة.`,
        `**الخطوة 5: التنفيذ الاحترافي** - فريقنا المعتمد يصل في الموعد المحدد مع جميع المعدات اللازمة لتنفيذ ${serviceName} بأعلى جودة.`,
        `**الخطوة 6: الضمان والمتابعة** - نقدم ضماناً مكتوباً على جميع أعمالنا ونتابع معك للتأكد من رضاك التام عن الخدمة.`
      ]
    },
    benefits: {
      title: `لماذا بروكر الخيار الأفضل لـ${serviceName} في السعودية؟`,
      content: [
        `**تغطية شاملة** - نغطي أكثر من 45 مدينة سعودية، من أكبر المدن إلى المدن الصغيرة. أينما كنت في المملكة، نحن نصل إليك.`,
        `**فريق محلي متخصص** - في كل مدينة، لدينا فريق محلي متخصص في ${serviceName} يفهم احتياجات المنطقة ويتحدث بلهجتها.`,
        `**معدات حديثة** - نستثمر باستمرار في أحدث المعدات والتقنيات المتخصصة في ${serviceName} لنقدم لك أفضل خدمة ممكنة.`,
        `**أسعار شفافة** - أسعارنا واضحة ومحددة مسبقاً دون أي رسوم خفية. نقدم تسعيرة كاملة قبل البدء بالعمل.`,
        `**ضمان مكتوب** - جميع خدمات ${serviceName} التي نقدمها مغطاة بضمان مكتوب يحميك ويمنحك راحة البال.`,
        `**متاحون دائماً** - خدمة عملاء متاحة 24/7 للرد على استفساراتك وحجز ${serviceName} في أي وقت.`
      ]
    },
    commonMistakes: {
      title: `أخطاء شائعة عند اختيار مزود خدمة ${serviceName}`,
      content: [
        `**الخطأ الأول: اختيار شركة غير متخصصة** - كثير من الشركات تقدم ${serviceName} كخدمة ثانوية، لكن التخصص يصنع الفرق في الجودة والنتائج.`,
        `**الخطأ الثاني: البحث عن الأرخص دون النظر للجودة** - السعر المنخفض جداً قد يعني استخدام معدات رديئة أو فنيين غير مؤهلين. ابحث عن التوازن بين السعر والجودة.`,
        `**الخطأ الثالث: عدم التحقق من التغطية المحلية** - بعض الشركات تدّعي تغطية جميع المدن، لكن الواقع يكون مختلفاً. تأكد من وجود فريق محلي حقيقي في مدينتك.`,
        `**الخطأ الرابع: إهمال أهمية الضمان** - دائماً اطلب ضماناً مكتوباً على ${serviceName}. الوعود الشفهية لا تكفي عند حدوث أي مشكلة.`,
        `**الخطأ الخامس: عدم قراءة التقييمات** - تقييمات العملاء السابقين تعطيك صورة حقيقية عن مستوى الخدمة والاحترافية.`
      ]
    },
    tips: {
      title: `نصائح الخبراء لاختيار أفضل خدمة ${serviceName}`,
      content: [
        `**نصيحة 1: تحقق من الترخيص والتأمين** - تأكد من أن الشركة مرخصة ولديها تأمين ساري المفعول لحمايتك وحماية ممتلكاتك.`,
        `**نصيحة 2: اطلب تسعيرة مفصلة** - التسعيرة المفصلة تساعدك على فهم ما تدفع مقابله وتجنب المفاجآت.`,
        `**نصيحة 3: اسأل عن الخبرة المحلية** - الفريق الذي يعرف مدينتك جيداً سيقدم خدمة أفضل وأسرع.`,
        `**نصيحة 4: تحقق من توفر خدمة العملاء** - خدمة العملاء الممتازة تعني حل سريع لأي مشكلة قد تحدث.`,
        `**نصيحة 5: لا تتسرع في القرار** - خذ وقتك في المقارنة والاختيار، ${serviceName} استثمار يستحق البحث الجيد.`,
        `**نصيحة 6: احجز مبكراً** - خاصة في مواسم الذروة، الحجز المبكر يضمن لك أفضل المواعيد والأسعار.`
      ]
    },
    comparison: {
      title: `بروكر vs شركات ${serviceName} الأخرى`,
      content: [
        `**التغطية الجغرافية**: بينما تركز معظم الشركات على المدن الكبرى فقط، نحن نغطي أكثر من 45 مدينة في جميع أنحاء المملكة بنفس مستوى الاحترافية.`,
        `**التخصص**: نحن متخصصون في ${serviceName} مع فريق مدرب خصيصاً، بينما كثير من الشركات تقدمها كخدمة جانبية.`,
        `**الشفافية**: أسعارنا واضحة ومحددة مسبقاً مع ضمان مكتوب، بينما كثير من الشركات تضيف رسوماً خفية لاحقاً.`,
        `**السرعة**: فرقنا المحلية في كل مدينة تعني استجابة أسرع ووصول أسرع مقارنة بالشركات التي ترسل فرقاً من مدن بعيدة.`,
        `**خدمة العملاء**: متاحون 24/7 بينما كثير من الشركات تعمل بساعات محدودة فقط.`
      ]
    },
    whyChooseUs: {
      title: `لماذا عشرات الآلاف يختارون بروكر لـ${serviceName}؟`,
      content: [
        `**شبكة واسعة**: أكثر من 45 مدينة في جميع أنحاء المملكة، نحن الأقرب إليك دائماً.`,
        `**خبرة محلية**: فريق في كل مدينة يفهم الاحتياجات والتحديات المحلية.`,
        `**جودة مضمونة**: ضمان مكتوب على جميع خدمات ${serviceName} التي نقدمها.`,
        `**أسعار عادلة**: أفضل قيمة مقابل المال مع شفافية كاملة في التسعير.`,
        `**استجابة سريعة**: متاحون دائماً للرد على استفساراتك وحجز الخدمة بسرعة.`,
        `**رضا العملاء**: آلاف العملاء الراضين في جميع أنحاء المملكة يثقون بنا.`
      ]
    },
    testimonials: [
      {
        name: 'أحمد العتيبي',
        area: 'الرياض',
        text: `خدمة ${serviceName} ممتازة! الفريق محترف جداً والنتيجة فاقت توقعاتي. أنصح الجميع بالتعامل معهم.`,
        rating: 5
      },
      {
        name: 'فاطمة الغامدي',
        area: 'جدة',
        text: `سرعة في الاستجابة، احترافية في التنفيذ، وأسعار معقولة. ممتازون في ${serviceName}.`,
        rating: 5
      },
      {
        name: 'خالد المطيري',
        area: 'الدمام',
        text: `تعاملت معهم أكثر من مرة وفي كل مرة يبهرونني بمستوى الخدمة. استمروا!`,
        rating: 5
      }
    ],
    relatedServices: service.subservices.slice(0, 6).map(sub => ({
      title: `${sub.name_ar} في السعودية`,
      link: `/services/${service.slug}/${sub.slug}`,
      description: `خدمة ${sub.name_ar} احترافية في جميع مدن المملكة.`
    })),
    internalLinks: [
      { text: `${serviceName} في الرياض`, url: `/saudi/riyadh/${service.slug}` },
      { text: `${serviceName} في جدة`, url: `/saudi/jeddah/${service.slug}` },
      { text: `${serviceName} في مكة المكرمة`, url: `/saudi/makkah/${service.slug}` },
      { text: `${serviceName} في المدينة المنورة`, url: `/saudi/madinah/${service.slug}` },
      { text: `${serviceName} في الدمام`, url: `/saudi/dammam/${service.slug}` },
      { text: `جميع الخدمات في السعودية`, url: `/services` },
      { text: `تغطية خدماتنا في المملكة`, url: `/coverage` },
    ]
  };
}

export function generateRichContent(params: {
  city: City;
  service: ServiceCategory;
}): RichServiceContent {
  const { city, service } = params;
  const cityName = city.name_ar;
  const serviceName = service.name_ar;
  const neighborhoods = city.neighborhoods || [cityName];

  // Generate internal links
  const internalLinks = [
    { text: `خدمات ${serviceName} في السعودية`, url: `/services/${service.slug}` },
    { text: `جميع الخدمات في ${cityName}`, url: `/saudi/${city.slug}` },
    { text: `أسعار ${serviceName} في ${cityName}`, url: `/pricing/${service.slug}/${city.slug}` },
    { text: `أسئلة شائعة عن ${serviceName}`, url: `/faq/${service.slug}/${city.slug}` },
    { text: `عروض ${serviceName} في ${cityName}`, url: `/deals/${service.slug}/${city.slug}` },
    { text: `خدمة طوارئ ${serviceName}`, url: `/emergency/${service.slug}/${city.slug}` },
  ];

  // Service-specific content
  const contentTemplates: Record<string, Partial<RichServiceContent>> = {
    moving: {
      detailedIntro: [
        `تعتبر خدمة ${serviceName} في ${cityName} من الخدمات الأساسية التي يحتاجها السكان عند الانتقال من منزل إلى آخر، سواء كان ذلك داخل نفس الحي أو إلى حي آخر في المدينة. نحن في بروكر نفخر بتقديم خدمات ${serviceName} احترافية تغطي جميع أحياء ${cityName} بما في ذلك ${neighborhoods.slice(0, 3).join('، ')} وغيرها من الأحياء المميزة.`,
        
        `نستخدم أحدث التقنيات والمعدات المتخصصة لضمان نقل آمن وسريع لجميع أنواع الأثاث والعفش. فريقنا المتخصص يضم خبراء في ${serviceName} مع سنوات من الخبرة في التعامل مع مختلف أنواع المنازل والعفش، من الشقق الصغيرة إلى الفلل والقصور الكبيرة. نحن نفهم أن عفشك يحمل قيمة عاطفية ومادية كبيرة، لذلك نتعامل مع كل قطعة بعناية فائقة.`,
        
        `في ${cityName}، نواجه تحديات خاصة تتعلق بطبيعة المباني والشوارع والأحوال الجوية. لذلك، قمنا بتطوير استراتيجيات خاصة تناسب بيئة ${cityName} لضمان تقديم خدمة ${serviceName} بأعلى مستوى من الجودة والكفاءة. نحن نعرف كل شارع وزقاق في أحياء مثل ${neighborhoods[0] || cityName}، مما يساعدنا على اختيار أفضل الطرق والأوقات للنقل.`
      ],
      
      howItWorks: {
        title: `كيف تعمل خدمة ${serviceName} في ${cityName}؟`,
        content: [
          `**المرحلة الأولى: المعاينة والتقييم المجاني** - نبدأ بزيارة منزلك في ${cityName} لإجراء معاينة شاملة ومجانية. خلال هذه الزيارة، يقوم خبراؤنا بتقييم حجم ونوع العفش، وقياس المداخل والسلالم، وتحديد أي تحديات محتملة. بناءً على هذا التقييم، نقدم لك تسعيرة دقيقة وشفافة بدون أي تكاليف مخفية.`,
          
          `**المرحلة الثانية: التخطيط والجدولة** - بعد الموافقة على السعر، نقوم بوضع خطة مفصلة للنقل تشمل الجدول الزمني، عدد العمال المطلوبين، نوع السيارات، ومواد التغليف اللازمة. نأخذ في الاعتبار جميع العوامل مثل المسافة بين المنزلين، حركة المرور في ${cityName}، وأي متطلبات خاصة قد تكون لديك.`,
          
          `**المرحلة الثالثة: التغليف الاحترافي** - في يوم النقل، يصل فريقنا المتخصص في الموعد المحدد مع جميع مواد التغليف عالية الجودة. نستخدم كراتين مقوى، فقاعات هوائية، بلاستيك لف، وأغطية خاصة للأثاث. كل قطعة تُغلف بعناية فائقة حسب نوعها - الزجاج، الخشب، الأجهزة الإلكترونية، التحف، وغيرها.`,
          
          `**المرحلة الرابعة: الفك والتحميل** - نقوم بفك الأثاث الذي يحتاج للفك (الدواليب، الأسرّة، الطاولات الكبيرة) باحترافية مع حفظ جميع المسامير والقطع الصغيرة في أكياس مرقمة. نستخدم الونش الكهربائي لرفع القطع الثقيلة من الأدوار العليا بأمان تام. التحميل يتم بطريقة احترافية تضمن استغلال مساحة السيارة وحماية العفش من الحركة.`,
          
          `**المرحلة الخامسة: النقل الآمن** - سياراتنا مجهزة خصيصاً لنقل العفش، مع حوامل وأحزمة تثبيت، وأرضيات مبطنة. السائقون لدينا محترفون ويعرفون طرق ${cityName} جيداً لاختيار أفضل المسارات. نوفر تأمين شامل على جميع المنقولات خلال رحلة النقل.`,
          
          `**المرحلة السادسة: التنزيل وإعادة التركيب** - عند الوصول إلى المنزل الجديد، نقوم بتنزيل العفش بحذر ووضع كل قطعة في المكان الذي تحدده. نعيد تركيب جميع القطع التي تم فكها، ونتأكد من أن كل شيء في مكانه الصحيح. لا نغادر حتى تكون راضياً تماماً عن الخدمة.`
        ],
        withLinks: true
      },
      
      benefits: {
        title: `لماذا تختار خدمة ${serviceName} في ${cityName} من بروكر؟`,
        content: [
          `**خبرة محلية عميقة في ${cityName}** - نعمل في ${cityName} منذ سنوات طويلة ونعرف كل تفاصيل المدينة. نفهم طبيعة المباني في ${neighborhoods[0]}، الشوارع الضيقة في بعض الأحياء القديمة، وأفضل أوقات النقل لتجنب الزحام. هذه المعرفة المحلية تجعلنا الخيار الأمثل لـ ${serviceName}.`,
          
          `**فريق محترف مدرب ومعتمد** - جميع عمالنا حاصلون على تدريب متخصص في ${serviceName} والتعامل مع مختلف أنواع الأثاث. نختار فريقنا بعناية فائقة ونوفر لهم تدريباً مستمراً على أحدث تقنيات النقل والتغليف. كل عامل لدينا ملتزم بأعلى معايير الاحترافية والأمانة.`,
          
          `**معدات حديثة ومتطورة** - نستثمر باستمرار في أحدث المعدات والأدوات. لدينا أسطول من الونشات الكهربائية بمختلف الأحجام، سيارات نقل مجهزة بالكامل، أدوات فك وتركيب احترافية، ومواد تغليف من أعلى جودة. هذه المعدات تضمن سرعة وأمان في تنفيذ خدمة ${serviceName}.`,
          
          `**تأمين شامل وضمان مكتوب** - نوفر تأميناً شاملاً على جميع المنقولات من لحظة التحميل حتى التسليم في المنزل الجديد. بالإضافة إلى ذلك، نقدم ضماناً مكتوباً على جودة الخدمة والتزامنا بالمواعيد. راحة بالك هي أولويتنا القصوى.`,
          
          `**أسعار تنافسية وشفافة** - نقدم أفضل الأسعار لـ ${serviceName} في ${cityName} مع شفافية كاملة في التسعير. لا توجد تكاليف مخفية أو مفاجآت في الفاتورة النهائية. نوفر باقات متنوعة تناسب جميع الميزانيات، مع إمكانية التفاوض والحصول على عروض خاصة.`,
          
          `**خدمة عملاء متميزة على مدار الساعة** - فريق خدمة العملاء لدينا متاح 24/7 للرد على استفساراتك ومساعدتك في حجز خدمة ${serviceName}. نوفر قنوات تواصل متعددة: هاتف، واتساب، موقع إلكتروني، وتطبيق موبايل. نستجيب لطلبك بسرعة ونصل إلى موقعك في ${cityName} في أقرب وقت ممكن.`
        ],
        withLinks: true
      },
      
      commonMistakes: {
        title: `أخطاء شائعة يجب تجنبها عند ${serviceName} في ${cityName}`,
        content: [
          `**الخطأ الأول: اختيار شركة ${serviceName} بناءً على السعر فقط** - الكثير من العملاء في ${cityName} يقعون في فخ اختيار أرخص عرض دون النظر إلى جودة الخدمة. هذا قد يؤدي إلى كوارث مثل تلف العفش، التأخير، أو حتى الاحتيال. تذكر أن السعر المنخفض جداً غالباً ما يعني جودة منخفضة. ابحث عن التوازن بين السعر المعقول والجودة العالية.`,
          
          `**الخطأ الثاني: عدم التخطيط المسبق** - البعض يحجز خدمة ${serviceName} في اللحظة الأخيرة، مما يسبب ضغطاً وعدم توفر أفضل الفرق أو المواعيد المناسبة. في ${cityName}، خاصة في نهاية الشهر وبداية الإجازات، تكون الشركات مزدحمة. احجز مبكراً لضمان حصولك على أفضل خدمة وأفضل سعر.`,
          
          `**الخطأ الثالث: عدم فحص سمعة الشركة** - لا تعتمد على الإعلانات فقط. ابحث عن تقييمات العملاء السابقين، اطلب توصيات من الأصدقاء والعائلة، وتحقق من سجل الشركة. شركة بروكر تفخر بسجلها النظيف وآلاف العملاء الراضين في ${cityName}.`,
          
          `**الخطأ الرابع: عدم تأمين العفش** - الكثيرون يتجاهلون أهمية التأمين الشامل. في حال حدوث أي ضرر (لا قدر الله)، ستجد نفسك في مشكلة كبيرة بدون تأمين. تأكد دائماً من أن شركة ${serviceName} توفر تأميناً شاملاً وضماناً مكتوباً.`,
          
          `**الخطأ الخامس: التغليف غير المناسب** - محاولة توفير المال بالتغليف بنفسك بمواد رديئة قد يكلفك أكثر على المدى البعيد. التغليف الاحترافي يحمي عفشك من الخدوش والكسر. في بروكر، نستخدم مواد تغليف عالية الجودة مخصصة لكل نوع من الأثاث.`,
          
          `**الخطأ السادس: عدم التواصل الواضح مع الشركة** - كن واضحاً بشأن احتياجاتك الخاصة: عفش قيّم، أشياء ثقيلة جداً، مواعيد محددة، إلخ. كلما كانت المعلومات أوضح، كانت خدمة ${serviceName} أفضل. لا تخجل من طرح الأسئلة والتأكد من جميع التفاصيل.`
        ]
      },
      
      tips: {
        title: `نصائح مهمة لنجاح ${serviceName} في ${cityName}`,
        content: [
          `**نصيحة 1: ابدأ التحضير مبكراً** - قبل أسبوعين على الأقل من موعد ${serviceName}، ابدأ في ترتيب وتصنيف أغراضك. تخلص من الأشياء غير الضرورية، تبرع بما لا تحتاجه، وبيع ما يمكن بيعه. هذا سيقلل من حجم العفش المراد نقله ويوفر عليك المال.`,
          
          `**نصيحة 2: اصنع قائمة جرد شاملة** - قبل ${serviceName}، اصنع قائمة مفصلة بجميع القطع الكبيرة والقيّمة. التقط صوراً لكل شيء. هذا سيساعدك في التحقق من أن كل شيء وصل سليماً إلى المنزل الجديد.`,
          
          `**نصيحة 3: احجز في وقت مناسب** - تجنب نهاية الشهر وبداية الصيف في ${cityName} حيث تكون الأسعار أعلى والشركات مشغولة. إذا كان لديك مرونة في الموعد، اختر منتصف الشهر أو منتصف الأسبوع لأسعار أفضل.`,
          
          `**نصيحة 4: جهز المنزلين** - في المنزل القديم، أفرغ الدواليب والأدراج، افصل الأجهزة الكهربائية، وأزل أي عوائق من الممرات. في المنزل الجديد، تأكد من أن الكهرباء والماء يعملان، ونظف المكان مسبقاً.`,
          
          `**نصيحة 5: احتفظ بحقيبة أساسيات** - ضع ملابس، أدوات نظافة شخصية، مستندات مهمة، وأدوية في حقيبة منفصلة تحملها معك. لا تضعها مع العفش المراد نقله.`,
          
          `**نصيحة 6: كن حاضراً** - حاول أن تكون موجوداً في كلا المنزلين أثناء ${serviceName}. هذا يساعدك على توجيه العمال، الإجابة على أسئلتهم، والتأكد من أن كل شيء يسير بسلاسة.`,
          
          `**نصيحة 7: راجع كل شيء قبل التوقيع** - قبل أن يغادر الفريق المنزل الجديد، راجع جميع القطع وتأكد من عدم وجود أضرار. تحقق من أن جميع القطع المفككة تم تركيبها بشكل صحيح. إذا كان هناك أي مشكلة، أبلغ بها فوراً.`
        ]
      },
      
      comparison: {
        title: `مقارنة بين خيارات ${serviceName} في ${cityName}`,
        content: [
          `**خدمة ${serviceName} الاحترافية من شركات متخصصة**: المزايا تشمل الخبرة الواسعة، المعدات المتطورة، التأمين الشامل، والضمان. التكلفة أعلى لكن راحة البال تستحق. مناسبة للفلل الكبيرة، العفش الثمين، والمسافات الطويلة.`,
          
          `**خدمة ${serviceName} من عمال أفراد**: أقل تكلفة لكن بدون ضمان أو تأمين غالباً. قد يفتقرون للمعدات الحديثة والخبرة الكافية. مناسبة فقط للشقق الصغيرة والعفش البسيط. المخاطرة أعلى بكثير.`,
          
          `**${serviceName} الذاتي**: الأرخص لكن الأكثر إرهاقاً ومخاطرة. تحتاج لاستئجار سيارة، شراء مواد تغليف، وطلب مساعدة من أصدقاء. غير مناسب إطلاقاً للعفش الكبير أو القيّم. احتمال التلف والإصابات عالٍ.`,
          
          `**لماذا بروكر هو الخيار الأمثل في ${cityName}؟** نجمع بين الاحترافية والأسعار التنافسية. نوفر جميع مزايا الشركات الكبيرة بأسعار معقولة. خبرتنا المحلية في ${cityName} تجعلنا نفهم احتياجاتك بشكل أفضل. زبائننا يعودون إلينا مراراً ويوصون بنا لأصدقائهم وعائلاتهم.`
        ]
      },
      
      cityInfo: {
        title: `${serviceName} في مختلف أحياء ${cityName}`,
        content: [
          `${cityName} مدينة واسعة ومتنوعة، وكل حي فيها له خصوصيته. في ${neighborhoods[0] || cityName}، نواجه تحديات مختلفة عن ${neighborhoods[1] || 'الأحياء الأخرى'}. بعض الأحياء تتميز بالمباني الشاهقة والمصاعد الحديثة، بينما البعض الآخر يحتوي على منازل تقليدية وشوارع ضيقة.`,
          
          `في الأحياء الجديدة مثل ${neighborhoods[0] || 'الأحياء الراقية'}، نستخدم المصاعد الكبيرة والمداخل الواسعة، مما يسهل عملية ${serviceName}. أما في الأحياء القديمة، فنعتمد على الونشات الكهربائية والعمالة الماهرة للتعامل مع السلالم الضيقة والمداخل الصغيرة.`,
          
          `نعرف أيضاً أفضل أوقات النقل في كل حي. في ${neighborhoods[1] || 'بعض الأحياء'}، يفضل النقل صباحاً لتجنب الزحام، بينما في أحياء أخرى، المساء أفضل. هذه المعرفة المحلية تضمن لك خدمة ${serviceName} سريعة وفعالة.`,
          
          `كما نراعي الخصوصيات الاجتماعية لكل حي. نحترم عادات وتقاليد سكان ${cityName}، ونحرص على توفير خدمة محترمة ومهذبة. فريقنا ملتزم بأعلى معايير السلوك المهني والأخلاقي.`
        ]
      },
      
      whyChooseUs: {
        title: `لماذا بروكر هو الاسم الأول في ${serviceName} بـ${cityName}؟`,
        content: [
          `**سجل حافل بالنجاحات**: أنجزنا آلاف عمليات ${serviceName} في ${cityName} بنسبة رضا تتجاوز 98%. عملاؤنا يثقون بنا لنقل أثمن ممتلكاتهم، وهذه الثقة هي أغلى ما نملك.`,
          
          `**شفافية كاملة**: من التسعيرة الأولية حتى الفاتورة النهائية، كل شيء واضح ومكتوب. لا مفاجآت، لا تكاليف مخفية، لا ألاعيب. ما تراه هو ما تحصل عليه.`,
          
          `**التزام بالمواعيد**: نفهم أن وقتك ثمين. نصل في الموعد المحدد، ننجز العمل ضمن الإطار الزمني المتفق عليه، ونحترم جدولك اليومي. التأخير عندنا نادر جداً وإن حدث نعوّض عنه.`,
          
          `**تكنولوجيا متقدمة**: نستخدم تطبيقاً ذكياً لتتبع ${serviceName} مباشرة. تعرف أين عفشك في كل لحظة، تواصل مع السائق، وتلقى إشعارات عن كل خطوة.`,
          
          `**فريق خدمة عملاء استثنائي**: متاحون 24/7 بالعربية والإنجليزية. يجيبون على أسئلتك، يحلون مشاكلك، ويتأكدون من رضاك التام. تجربة العميل عندنا ليست مجرد شعار، بل ممارسة يومية.`,
          
          `**ضمان استرداد المال**: إذا لم تكن راضياً عن خدمة ${serviceName}، نعيد لك مالك كاملاً. هذا هو مدى ثقتنا في جودة خدماتنا. رضاك يعني كل شيء بالنسبة لنا.`
        ]
      }
    },
    
    cleaning: {
      detailedIntro: [
        `خدمات ${serviceName} في ${cityName} أصبحت ضرورة لا غنى عنها في حياتنا اليومية المزدحمة. مع نمط الحياة السريع وضغوط العمل، أصبح الحفاظ على منزل نظيف ومرتب تحدياً كبيراً للكثير من العائلات في ${cityName}. نحن في بروكر نقدم حلولاً احترافية لـ${serviceName} تغطي جميع أحياء المدينة بما فيها ${neighborhoods.slice(0, 3).join('، ')}.`,
        
        `ما يميز خدماتنا هو الاهتمام بأدق التفاصيل واستخدام مواد تنظيف آمنة وصديقة للبيئة. فريقنا المدرب يستخدم أحدث المعدات والتقنيات لضمان تنظيف شامل وعميق لكل ركن في منزلك. نفهم أن كل منزل في ${cityName} له احتياجاته الخاصة، سواء كانت شقة صغيرة أو فيلا فخمة أو قصر كبير.`,
        
        `نحن لا نقوم بالتنظيف السطحي فقط، بل نوفر تنظيفاً عميقاً يشمل الأرضيات، الجدران، السقوف، النوافذ، المطابخ، الحمامات، والأثاث. استخدامنا لمواد تنظيف آمنة يجعل خدماتنا مثالية للعائلات التي لديها أطفال وكبار سن وحيوانات أليفة في ${cityName}.`
      ]
    },
    
    'pest-control': {
      detailedIntro: [
        `مكافحة الحشرات في ${cityName} تتطلب خبرة متخصصة ومعرفة بأنواع الحشرات المنتشرة في المنطقة وطرق القضاء عليها بشكل نهائي. نحن في بروكر نوفر خدمات ${serviceName} احترافية باستخدام أحدث التقنيات والمبيدات الآمنة المعتمدة من وزارة الصحة السعودية. نغطي جميع أحياء ${cityName} بما فيها ${neighborhoods.slice(0, 3).join('، ')}.`,
        
        `المناخ في ${cityName} يساعد على انتشار بعض أنواع الحشرات بشكل سريع، خاصة في فصل الصيف. الصراصير، النمل، البعوض، الذباب، والعناكب من أكثر الحشرات شيوعاً. كما أن النمل الأبيض يشكل خطراً كبيراً على المنازل الخشبية في ${cityName}. لذلك، نوفر حلولاً متخصصة لكل نوع من الحشرات.`,
        
        `خدماتنا لا تقتصر على الرش فقط، بل تشمل الفحص الشامل، تحديد مصادر الإصابة، المعالجة الدقيقة، وتقديم نصائح وقائية لمنع عودة الحشرات. نستخدم مبيدات حديثة بدون رائحة كريهة وآمنة على الأطفال والحيوانات الأليفة، مع ضمان يصل إلى 6 أشهر على الخدمة.`
      ]
    }
  };

  // Get service-specific content or use default
  const serviceContent = contentTemplates[service.slug as keyof typeof contentTemplates] || {
    detailedIntro: [
      `نوفر خدمات ${serviceName} في ${cityName} بأعلى معايير الجودة والاحترافية. فريقنا المتخصص يغطي جميع أحياء ${cityName} بما في ذلك ${neighborhoods.slice(0, 3).join('، ')} وغيرها.`
    ]
  };

  // Generate testimonials
  const testimonials = [
    {
      name: 'أحمد العتيبي',
      area: neighborhoods[0] || cityName,
      text: `تجربة ممتازة مع خدمة ${serviceName}! الفريق محترف جداً والتعامل راقي. أنصح الجميع بالتعامل معهم.`,
      rating: 5
    },
    {
      name: 'فاطمة الشهري',
      area: neighborhoods[1] || cityName,
      text: `صراحة خدمة ممتازة وأسعار مناسبة. الفريق وصل بالوقت المحدد وأنجز العمل بكل احترافية.`,
      rating: 5
    },
    {
      name: 'محمد القحطاني',
      area: neighborhoods[2] || cityName,
      text: `أفضل شركة ${serviceName} في ${cityName}! تعاملت معهم عدة مرات ودائماً راضي عن الخدمة.`,
      rating: 5
    }
  ];

  // Generate related services
  const relatedServices = service.subservices.slice(0, 6).map(sub => ({
    title: `${sub.name_ar} في ${cityName}`,
    link: `/saudi/${city.slug}/${service.slug}/${sub.slug}`,
    description: `احصل على أفضل خدمة ${sub.name_ar} في ${cityName} مع فريق محترف وأسعار تنافسية.`
  }));

  return {
    detailedIntro: serviceContent.detailedIntro || [],
    howItWorks: serviceContent.howItWorks || {
      title: `كيف تعمل خدمة ${serviceName}؟`,
      content: [`خدمة ${serviceName} تتم على عدة مراحل احترافية لضمان أفضل النتائج.`]
    },
    benefits: serviceContent.benefits || {
      title: `فوائد خدمة ${serviceName}`,
      content: [`نوفر خدمة ${serviceName} احترافية بأعلى جودة.`]
    },
    commonMistakes: serviceContent.commonMistakes || {
      title: `أخطاء شائعة في ${serviceName}`,
      content: [`تجنب الأخطاء الشائعة للحصول على أفضل خدمة ${serviceName}.`]
    },
    tips: serviceContent.tips || {
      title: `نصائح مهمة لـ${serviceName}`,
      content: [`اتبع هذه النصائح للحصول على أفضل نتائج من خدمة ${serviceName}.`]
    },
    comparison: serviceContent.comparison || {
      title: `مقارنة خيارات ${serviceName}`,
      content: [`قارن بين الخيارات المتاحة لـ${serviceName} واختر الأفضل.`]
    },
    cityInfo: serviceContent.cityInfo || {
      title: `${serviceName} في ${cityName}`,
      content: [`نغطي جميع أحياء ${cityName} بخدمات ${serviceName} احترافية.`]
    },
    whyChooseUs: serviceContent.whyChooseUs || {
      title: `لماذا تختارنا لـ${serviceName}؟`,
      content: [`نحن الخيار الأمثل لخدمات ${serviceName} في ${cityName}.`]
    },
    testimonials,
    relatedServices,
    internalLinks
  };
}

